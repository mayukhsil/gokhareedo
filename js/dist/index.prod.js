"use strict";function _slicedToArray(n,e){return _arrayWithHoles(n)||_iterableToArrayLimit(n,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(n,e){if(Symbol.iterator in Object(n)||"[object Arguments]"===Object.prototype.toString.call(n)){var r=[],t=!0,o=!1,a=void 0;try{for(var i,s=n[Symbol.iterator]();!(t=(i=s.next()).done)&&(r.push(i.value),!e||r.length!==e);t=!0);}catch(n){o=!0,a=n}finally{try{t||null==s.return||s.return()}finally{if(o)throw a}}return r}}function _arrayWithHoles(n){if(Array.isArray(n))return n}function initMap(){map=new google.maps.Map(document.getElementById("map"),{center:{lat:-33.863276,lng:151.107977},zoom:13}),infoWindow=new google.maps.InfoWindow,searchStores()}function setOnClickListener(){document.querySelectorAll(".store-container").forEach(function(n,e){n.addEventListener("click",function(){new google.maps.event.trigger(markers[e],"click")})})}var map,infoWindow,markers=[];function clearLocations(){infoWindow.close();for(var n=0;n<markers.length;n++)markers[n].setMap(null);markers.length=0}function searchStores(){var n=[],e=document.getElementById("zip-code-input").value;if(e){var r=!0,t=!1,o=void 0;try{for(var a,i=stores[Symbol.iterator]();!(r=(a=i.next()).done);r=!0){var s=a.value;e==s.address.postalCode.substring(0,5)&&n.push(s)}}catch(n){t=!0,o=n}finally{try{r||null==i.return||i.return()}finally{if(t)throw o}}}else n=stores;clearLocations(),displayStores(n),showStoresMarker(n),setOnClickListener(n)}function displayStores(n){var e="",r=!0,t=!1,o=void 0;try{for(var a,i=n.entries()[Symbol.iterator]();!(r=(a=i.next()).done);r=!0){var s=_slicedToArray(a.value,2),c=s[0],l=s[1],d=l.name,u=l.addressLines,v=l.phoneNumber;e+="    \n\n        <div class='store-container'>\n            <div class=\"store-container-background\">\n                <div class='store-info-container'>\n                    <div class='store-address'>\n                        <span class=\"name\">".concat(d,'</span>\n                        <span class="addr">').concat(u[0],"</span>\n                    </div>\n                    <div class='store-phone-no'>").concat(v,'</div>\n                </div>\n\n\n                <div class="store-number-container">\n                    <div class="store-number">').concat(c+1,"</div>\n                </div>\n            </div>\n        </div>\n        \n        "),document.querySelector(".store-list ").innerHTML=e}}catch(n){t=!0,o=n}finally{try{r||null==i.return||i.return()}finally{if(t)throw o}}}function showStoresMarker(n){var e=new google.maps.LatLngBounds,r=!0,t=!1,o=void 0;try{for(var a,i=n.entries()[Symbol.iterator]();!(r=(a=i.next()).done);r=!0){var s=_slicedToArray(a.value,2),c=s[0],l=s[1],d=l.name,u=l.addressLines[0],v=l.openStatusText,f=l.phoneNumber,m=new google.maps.LatLng(l.coordinates.latitude,l.coordinates.longitude);e.extend(m),createMarker(m,d,u,v,f,c+1)}}catch(n){t=!0,o=n}finally{try{r||null==i.return||i.return()}finally{if(t)throw o}}map.fitBounds(e)}function createMarker(n,e,r,t,o,a){var i='\n        <div class="store-info-window">\n            <div class="store-info-name">\n                '.concat(e,'\n            </div>\n            <div class="store-info-status">\n                ').concat(t,'\n            </div>\n            <div class="store-info-address">\n                <div class="circle">\n                    <i class="fas fa-location-arrow"></i>\n                </div>\n                ').concat(r,'\n            </div>\n            <div class="store-info-phone">\n                <div class="circle">\n                    <i class="fas fa-phone"></i>\n                </div>\n                ').concat(o,"\n            </div>\n        </div>\n    "),s=new google.maps.Marker({map:map,position:n,label:String(a)});google.maps.event.addListener(s,"click",function(){infoWindow.setContent(i),infoWindow.open(map,s)}),markers.push(s)}window.onload=function(){};